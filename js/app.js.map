{"version":3,"sources":["src/app.jsx"],"names":[],"mappings":"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","file":"src/app.jsx","sourcesContent":["// Detect whether there is a need for browserify\nvar React = require('react');\nvar $ = require('jquery');\n\nvar TodoForm = React.createClass({\n\n  handleFormSubmit: function(e) {\n    e.preventDefault();\n    var inputEl = React.findDOMNode(this.refs.inputText);\n\n    this.props.handleFormSubmit(inputEl.value.trim());\n\n    inputEl.value = \"\";\n  },\n\n  render: function() {\n    return (\n      <form className=\"todo--form\" onSubmit={this.handleFormSubmit}>\n        <label for=\"todo__input\">Add a new task</label>\n        <input name=\"todo__input\" type=\"text\" placeholder=\"I need to...\" ref=\"inputText\"\n        />\n        <input type=\"submit\" value=\"Add\" />\n      </form>\n    );\n  }\n});\n\n\nvar TodoItem = React.createClass({\n  handleCheckedClick: function() {\n    this.props.handleCheckedClick(this.props.index);\n  },\n\n  render: function() {\n    return (\n      <li className=\"todo--item\">\n        <div className=\"todo__completed\">\n          <input type=\"checkbox\" checked={this.props.todo.completed}\n            onChange={this.handleCheckedClick}\n          />\n        </div>\n        <div className=\"todo__details\">\n          <div className=\"todo__task\">\n            {this.props.todo.task}\n          </div>\n          <div className=\"todo__due\">\n          </div>\n        </div>\n      </li>\n    );\n  }\n});\n\nvar TodoCount = React.createClass({\n  render: function() {\n\n    var todoCount = this.props.todos.length;\n    var incompleteCount = this.props.todos.filter(function(todo) {\n      return !todo.completed;\n    }).length;\n\n    return (\n      <div className=\"todo-count\">\n        {todoCount} items total, <strong>{incompleteCount} incomplete tasks</strong>\n      </div>\n    );\n  }\n});\n\nvar TodoList = React.createClass({\n  render: function() {\n\n    var todoNodes = this.props.todos.map(function(todo, index) {\n      return <TodoItem key={index} todo={todo} index={index} handleCheckedClick={this.props.handleItemCheckedClick} />\n    }.bind(this));\n\n    if (todoNodes.length == 0) {\n      todoNodes = <li className=\"todo--item\"><div className=\"todo__task\">No task. Yay!</div></li>;\n    }\n\n    return (\n      <ul className=\"todo--list\">\n        {todoNodes}\n      </ul>\n    );\n  }\n});\n\nvar TodoBox = React.createClass({\n\n  getDefaultProps: function() { return {\n    updateDelay: 5000\n  }; },\n\n  getTodosDataFromServer: function() {\n    $.ajax({\n      url: \"/todos.json\",\n      success: function(data) {\n        console.log(data);\n        this.setState({\n          todosData: data[\"todosData\"]\n        });\n      }.bind(this)\n    });\n  },\n\n  getInitialState: function() { return {\n    todosData: [],\n  }; },\n\n  componentDidMount: function() {\n    this.getTodosDataFromServer();\n    window.setInterval(this.getTodosDataFromServer, this.props.updateDelay);\n  },\n\n  addNewTask: function(task) {\n    var newData = this.state.todosData;\n    newData.push({ task: task, completed: false });\n    this.setState({\n      todosData: newData\n    });\n  },\n\n  updateChecked: function(index) {\n    var newData = this.state.todosData;\n    newData[index].completed = !newData[index].completed;\n    this.setState({\n      todosData: newData\n    });\n  },\n\n  render: function() {\n    return (\n      <div className=\"todo--box\">\n        <TodoCount todos={this.state.todosData} />\n        <TodoList todos={this.state.todosData} handleItemCheckedClick={this.updateChecked} />\n        <TodoForm handleFormSubmit={this.addNewTask} />\n      </div>\n    );\n  }\n});\n\nReact.render(\n  <TodoBox />,\n  document.getElementById('mountPoint')\n);\n"]}